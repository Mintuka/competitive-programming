n    = int(input())
nums = list(map(int, input().split()))

i,mx = 0,0
first,second = 0,0
R,L = 0,0
while i < n-1 and nums[i] == nums[i+1]:
    R += 1
    i += 1
    
first = R-L+1

while i < n-1:
    R,L = 0,0
    while i < n-1 and nums[i] == nums[i+1]:
        R += 1
        i += 1
        
    second = R-L+1
    mx = max(mx,min(first,second))
    
    first = second
    
    i += 1
    
print(mx)


7
2 2 2 1 1 2 2

6
1 2 1 2 1 2

9
2 2 1 1 1 2 2 2 2